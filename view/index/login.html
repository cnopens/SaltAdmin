<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SaltAdmin Login</title>
    <link href="static/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link href="static/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="static/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css" />
    <link href="static/css/components.min.css" rel="stylesheet" id="style_components" type="text/css" />
    <link href="static/css/login.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="login">
<!-- BEGIN LOGO -->
<div class="logo">
    <a href="/"><img src="static/img/logo-big.png" alt="SaltAdmin" /></a>
</div>
<!-- END LOGO -->
<!-- BEGIN LOGIN -->
<div class="content">
    <!-- BEGIN LOGIN FORM -->
    <form class="login-form">
        <h3 class="form-title font-green">SaltAdmin</h3>
        <div class="alert alert-danger display-hide">
            <button class="close" data-close="alert"></button>
            <span>请输入用户名和密码</span>
        </div>
        <div class="form-group">
            <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
            <label class="control-label visible-ie8 visible-ie9">用户名</label>
            <input class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="用户名" id="username" /> </div>
        <div class="form-group">
            <label class="control-label visible-ie8 visible-ie9">密码</label>
            <input class="form-control form-control-solid placeholder-no-fix" type="password" autocomplete="off" placeholder="密码" id="password" /> </div>
        <div class="form-actions">
            <button type="button" class="btn green uppercase" id="login">登录</button>
            <label class="rememberme check mt-checkbox mt-checkbox-outline">
                <input type="checkbox" id="remember" value="1" />记住我
                <span></span>
            </label>
            <a href="javascript:;" id="forget-password" class="forget-password">忘记密码</a>
        </div>
        <!--
        <div class="login-options">
            <h4>Or login with</h4>
            <ul class="social-icons">
                <li>
                    <a class="social-icon-color facebook" data-original-title="facebook" href="javascript:;"></a>
                </li>
                <li>
                    <a class="social-icon-color twitter" data-original-title="Twitter" href="javascript:;"></a>
                </li>
                <li>
                    <a class="social-icon-color googleplus" data-original-title="Goole Plus" href="javascript:;"></a>
                </li>
                <li>
                    <a class="social-icon-color linkedin" data-original-title="Linkedin" href="javascript:;"></a>
                </li>
            </ul>
        </div>
        -->
        <div class="create-account">
            <p>
                <a href="javascript:;" id="register-btn" class="uppercase">注册帐号</a>
            </p>
        </div>
    </form>
    <!-- END LOGIN FORM -->
    <!-- BEGIN FORGOT PASSWORD FORM -->
    <form class="forget-form" action="index.html" method="post">
        <h3 class="font-green">Forget Password ?</h3>
        <p> Enter your e-mail address below to reset your password. </p>
        <div class="form-group">
            <input class="form-control placeholder-no-fix" type="text" autocomplete="off" placeholder="Email" name="email" /> </div>
        <div class="form-actions">
            <button type="button" id="back-btn" class="btn green btn-outline">Back</button>
            <button type="submit" class="btn btn-success uppercase pull-right">Submit</button>
        </div>
    </form>
    <!-- END FORGOT PASSWORD FORM -->
</div>
<div class="copyright">2017 &copy; SaltAdmin By <a target="_blank" href="https://github.com/xkstudio">KStudio</a></div>
<script src="static/js/jquery.min.js" type="text/javascript"></script>
<!--<script src="static/js/login.min.js" type="text/javascript"></script>-->
<script>
$(function(){
    var login = function(){
        var username = $('#username').val().trim();
        var password = $('#password').val().trim();
        if (username==""){
            alert('用户名不能为空！');
            $('#username').focus();
            return false;
        }
        if (password==""){
            alert('密码不能为空！');
            $('#password').focus();
            return false;
        }
        $.ajax({
            type: 'POST',
            url: '/login',
            data: {'username':username,'password':password},
            dataType: "json",
            success: function(response){
                var code = response['code'];
                if (code<0){
                    var msg = response['msg'];
                    alert(msg);
                } else if (code==0){
                    alert('登录成功！');
                } else {
                    alert('未知错误');
                }
            },
            error: function(){
                alert('系统繁忙，请稍后再试。');
            }
        });
    };
    $("#login").click(login);
});
</script>
</body>
</html>